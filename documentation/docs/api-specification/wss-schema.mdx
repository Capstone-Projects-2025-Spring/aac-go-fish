import CodeBlock from '@theme/CodeBlock';
import Schema from "@site/static/schemas/wss_schema.json";
import JSONSchemaViewer from "@theme/JSONSchemaViewer";

# WebSocket Schema

For a more comprehensible view of the message types view this source file:

https://github.com/Capstone-Projects-2025-Spring/aac-go-fish/blob/main/backend/models.py

These message types are abstracted by Pydantics' model functionality and you do not need to deal with/format these messages directly as this is handled for you and is provided mostly for documentation purposes.

## Websocket JSON Schema

## Important
On connecting via the websocket endpoint, the first message MUST be the
initializer!

Below is an autogenerated JSON schema viewer. The main messages types are the initializer message, game state updates, lobby lifecycle updates, and a chat message.
The XOR chains specify the options under each message type and you can scroll sideways to view the other message types' options.
<JSONSchemaViewer schema={ Schema } />

## Source
This is the source for the above JSON schema viewer. This is the comprehensive JSON schema of all message types that are exchanged between the frontend and backend.

<CodeBlock language="json-schema">{JSON.stringify(Schema, null, 2)}</CodeBlock>
